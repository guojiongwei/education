(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{4360:function(e,t,o){"use strict";var n,a=o("0261"),r=o("ae8c"),s={nim:null,myInfo:{},userInfo:{},sessionList:[],currSessionUserInfo:{},currSessionData:[],currSessionHistoryData:[],currGroupChatInfo:localStorage.getItem("SET_CURGROUP_INFO")?JSON.parse(localStorage.getItem("SET_CURGROUP_INFO")):{},currGroupChatUserList:[],historySearch:"",noMoreHistoryMsgs:!1,noMoreCurrSessionMsgs:!1,iSonSyncDone:!1,isHistotryMsg:!1,currSessionId:localStorage.getItem("currSessionId")||"",tempChatContentItem:null,isSearchHistory:!1,isScrollBottom:!1,currChatPageNumber:1,currChatPageSize:30,currHistoryPageNumber:1,currHistoryPageSize:10},i=(o("b4fb"),o("b130"),o("ecb4"),o("9302"),o("2eeb"),o("d497"),o("ea69"),o("b722"),o("fe8a"),o("e18c"),o("e35a"),o("1c2e"),o("5e9f"),o("6db4"),o("430a")),c="",u="",d="",l={upload_file_url:"https://fss.dgg188.cn/oss/upload",download_file_url:"https://fss.dgg188.cn/oss/download"},g=function(){var e=["get","post"];function t(t){var o=t.url,a=t.data,r=t.options,s=t.success,c=void 0===s?function(){}:s,u=t.fail,d=void 0===u?function(){}:u,l=t.onProgressUpdate,g=void 0===l?function(){}:l,f=t.onUploadComplete,p=void 0===f?function(){}:f,m=t.onUploadError,v=void 0===m?function(){}:m,h=function(){if(void 0!==("undefined"===typeof XMLHttpRequest?"undefined":Object(i["a"])(XMLHttpRequest)))return new XMLHttpRequest;if(void 0!==("undefined"===typeof ActiveXObject?"undefined":Object(i["a"])(ActiveXObject))){if("string"!==typeof arguments.callee.activeXString){var e,t,o=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp"];for(e=0,t=o.length;e<t;e++)try{new ActiveXObject(o[e]),arguments.callee.activeXString=o[e];break}catch(n){}}return new ActiveXObject(arguments.callee.activeXString)}throw new Error("没有可用的 AJAX 对象构造器")}();h.onreadystatechange=function(){if(4===h.readyState)try{h.status>=200&&h.status<300||304==h.status?c&&c(JSON.parse(h.responseText)):d&&d(h.responseText)}catch(e){}},h.upload.onprogress=g,h.onload=p,h.onerror=v;var I=r&&r.method&&e.indexOf(r.method.toLowerCase())+1?r.method:"get";"get"===I.toLowerCase()?"object"===Object(i["a"])(a)&&null!==a?(o=function(){var e=[];for(var t in a)a.hasOwnProperty(t)&&e.push(encodeURIComponent(t)+"="+encodeURIComponent(a[t]));return e.length>0?o+"?"+e.join("&"):o}(),a=null):"string"===typeof a?(a=0===a.indexOf("?")?a:"?"+a,o+=a,a=null):a=null:a=a instanceof FormData||a instanceof File||a instanceof ArrayBuffer?a:"object"===Object(i["a"])(a)?JSON.stringify(a):"string"===typeof a?a:null;var S=!r||!r.async||!1!==r.async;try{h.open(I,o,S),function(){for(var e in r)if(r.hasOwnProperty(e))if("onload"===e)h.onload=function(){(h.status>=200&&h.status<300||304==h.status)&&r[e].call(h,h.responseText,h.status,h)};else if("onprogress"===e||"ontimeout"===e||"onerror"===e||"onabort"===e||"onloadstart"===e||"onloadend"===e)h[e]=function(t){r[e].call(h,t,h.responseText,h.status,h)};else if("timeout"===e||"withCredentials"===e)h[e]=r[e];else if("overrideMimeType"===e)h.overrideMimeType(r[e]);else if("requestHeader"===e)for(var t in r[e])r[e].hasOwnProperty(t)&&h.setRequestHeader(t,r[e][t]);else if("upload"===e)for(var o in r[e])r[e].hasOwnProperty(o)&&(h.upload[o]=r[e][o])}(),h.send(a)}catch(y){console.error("可能由于跨域限制，导致无法发起 Ajax 请求。"),h=null}return n=h,h}return t}();function f(e){var t=e.env,o=e.token,a=e.sysCode,r=e.secret,s=e.userId,f=e.sessionPageNumber,p=e.sessionPageSize,S=e.myInfo,y=e.onSessions,b=e.onConnect,T=e.onMessage,M=e.onError,C=e.onClose;I(),d=s;var O={P:"wss://imserver.dgg188.cn/dggimwebsocket",Y:"wss://yimserver.dgg188.cn/dggimwebsocket",T:"wss://timserver.dgg188.cn/dggimwebsocket",D:"ws://192.168.254.181:11111/dggimwebsocket"},k={P:"https://microuag.dgg188.cn/dgg-tac-imapi-server",Y:"https://ymicrouag.dgg188.cn/dgg-tac-imapi-server",T:"https://tmicrouag.dgg188.cn/dgg-tac-imapi-server",D:"https://dmicrouag.dgg188.cn/dgg-tac-imapi-server"};if(["T","D","P","Y"].includes(t))if(o||!M)if(a||!M)if(r||!M){c=a,u=r;var _,U=O[t]+"?token="+o+"&sysCode="+a+"&terminal=web",x=k[t],N=null;D(),this.sendMsg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e=Object.assign({},e,{localMsgId:P(),senderType:"web",sender:s,srcSyscode:a}),N=Object.assign({},e,{createTime:(new Date).getTime(),msgStatus:1}),e.hasOwnProperty("content")&&(e.content=JSON.stringify(e.content));var o=JSON.stringify(e);try{var n=N.localMsgId;m(n),setTimeout((function(){var e=h(n);if(!e)return!1;v(n),T({data:{localMsgId:n},code:10001,msg:"消息发送失败"})}),1e4),_.send(o),t({code:200,data:N})}catch(r){F(t,500,"消息发送失败")}},this.reconnect=function(){D()},this.disConnect=function(){try{_.close()}catch(e){}},this.getUserInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e.imUserId?H(e,t):F(t,500,"用户userId不能为空")},this.updateUserInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!e.imUserId)return F(t,500,"imUserId不能为空"),!1;var n=Object.assign({},e,{opeId:s}),a=w("POST",n,o);g({url:x+"/api/v1/imserver/msg_user/set_base_user_msg.do",data:n,options:{method:"post",requestHeader:a},success:function(e){1e4===e.code?t({data:e.data,code:200,msg:"请求成功！"}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})},this.pullHistoryMessage=function(e,t){if(!e.hasOwnProperty("groupId")||!e.groupId)return F(t,500,"groupId不能为空"),!1;var n={groupId:e.groupId,pageSize:e.pageSize||100,pageNumber:e.pageNumber||1,contentKey:e.contentKey||void 0,localPoint:e.localPoint||void 0},a=w("POST",n,o);g({url:x+"/api/v1/imserver/msg_ope/pull_im_msg.do",data:n,options:{method:"post",requestHeader:a},success:function(e){if(1e4===e.code){var o="[object Array]"==Object.prototype.toString.call(e.data.list)?e.data.list:[];o=o.map((function(e){var t=L(e.content,e.msgType);return Object.assign({},e,{content:t})})),t({data:o,code:200})}else F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})},S&&H({imUserId:s},(function(e){S(e)})),y&&G({pageIndex:f||1,pageSize:p||100},y),this.getSessionList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};G({pageIndex:e.sessionPageNumber||1,pageSize:e.sessionPageSize||100},t)},this.createSession=function(e,t){if(e){var n={groupUsers:[e,s]},a=w("POST",n,o);g({url:x+"/api/v1/imserver/msg_group/create_two_group.do",data:n,options:{method:"post",requestHeader:a},success:function(e){1e4===e.code?t({data:e.data,code:200}):F(t,500,e.data||e.msg)},fail:function(e){F(t,500,e.statusText)}})}else F(t,500,"用户id不能为空")},this.getOnlineInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(0!==e.length){var n={imUserIds:e},a=w("POST",n,o);g({url:x+"/api/v1/imserver/msg_user/user_online_case.do",data:n,options:{method:"post",requestHeader:a},success:function(e){if(1e4===e.code){var o=e.data.map((function(e){return{userId:e.userId,isOnline:e.userCase.some((function(e){return 1===e.online}))}}));t({data:o,code:200})}else F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})}else F(t,500,"用户id不能为空")},this.resetCurSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(e.hasOwnProperty("groupId")&&e["groupId"])if(e.hasOwnProperty("lastMsgTime")&&e["lastMsgTime"]){var n=Object.assign({},e,{opeId:s}),a=w("POST",n,o);g({url:x+"/api/v1/imserver/msg_group/update_group_msg_time.do",data:n,options:{method:"post",requestHeader:a},success:function(e){1e4===e.code?t({code:200,data:"操作成功"}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})}else F(t,500,"最后一条消息的时间戳lastMsgTime不能为空");else F(t,500,"聊天对象groupId不能为空")},this.uploadFile=function(e){var t=e.data,o=void 0===t?{}:t,a=e.success,r=void 0===a?function(){}:a,s=e.fail,i=void 0===s?function(){}:s,c=e.complete,u=void 0===c?function(){}:c,d=e.onProgressUpdate,f=void 0===d?function(){}:d,p=e.onUploadComplete,m=void 0===p?function(){}:p,v=e.onUploadError,h=void 0===v?function(){}:v;if(!o.file)return i({code:500,msg:"文件不能为空"}),u({code:500,msg:"文件不能为空"}),!1;var I=new FormData,S=o.bucketName||"dggtechtest",y=o.storage&&"FDFS"===o.storage?"FDFS":"OSS",b=o.fileId||"";return I.append("bucketName",S),I.append("file",o.file),I.append("storage",y),I.append("fileId",b),g({url:l.upload_file_url,data:I,options:{method:"post"},success:function(e){r(e),u(e)},fail:function(e){i({code:500,msg:e.statusText||"文件上传失败"}),u({code:500,msg:e.statusText||"文件上传失败"})},onProgressUpdate:function(e){f(e)},onUploadComplete:function(e){m({code:0,msg:"文件上传完成",data:e})},onUploadError:function(e){h({code:500,msg:"文件上传错误",data:e})}}),n},this.downloadFile=function(e){var t=e.fileId,o=void 0===t?"":t,n=e.downloadType,a=void 0===n?0:n;a&&1==a?window.location.href="".concat(l.download_file_url,"?fileId=").concat(o):window.open("".concat(l.download_file_url,"?fileId=").concat(o))},this.createGroup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=w("POST",e,o);console.log("data"),console.log(e),g({url:x+"/api/v1/imserver/msg_group/create_group.do",data:e,options:{method:"post",requestHeader:n},success:function(e){1e4===e.code?(console.log("11111"),console.log(e),t({code:200,data:e.data,msg:e.msg||""})):F(t,e.code,e.msg)},fail:function(e){F(t,500,e.statusText)}})},this.pullGroupChatHistoryMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e.groupId)return F(t,500,"groupId不能为空"),!1;e.pageNumber=e.pageNumber||1,e.pageSize=e.pageSize||30;var n=w("POST",e,o);g({url:x+"/api/v1/imserver/msg_ope/pull_im_msg.do",data:e,options:{method:"post",requestHeader:n},success:function(e){console.log("res:----"),console.log(e),console.log("res:----"),1e4===e.code?t({data:_messageList,code:200}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})},this.groupUpset=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e.groupId)return F(t,500,"groupId不能为空"),!1;var n=w("POST",e,o);g({url:x+"/api/v1/imserver/msg_group/group_upset.do",data:e,options:{method:"post",requestHeader:n},success:function(e){console.log("res:----"),console.log(e),console.log("res:----"),1e4===e.code?t({data:e.data,code:200}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})},this.groupUpsetCancle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e.groupId)return F(t,500,"groupId不能为空"),!1;var n=w("POST",e,o);g({url:x+"/api/v1/imserver/msg_group/group_upset_cancle.do",data:e,options:{method:"post",requestHeader:n},success:function(e){console.log("res:----"),console.log(e),console.log("res:----"),1e4===e.code?t({data:e.data,code:200}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})},this.getGroupChatInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e.groupId)return F(t,500,"groupId不能为空"),!1;var n=w("POST",e,o);g({url:x+"/api/v1/imserver/msg_group/group_info.do",data:e,options:{method:"post",requestHeader:n},success:function(e){console.log("getGroupChatInfo res:----"),console.log(e),console.log("getGroupChatInfo res:----"),1e4===e.code?t({data:e.data,code:200}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})},this.updateGroupChatInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e.groupId)return F(t,500,"groupId不能为空"),!1;var n=w("POST",e,o);g({url:x+"/api/v1/imserver/msg_group/update_group_name.do",data:e,options:{method:"post",requestHeader:n},success:function(e){console.log("updateGroupChatInfo res:----"),console.log(e),console.log("updateGroupChatInfo res:----"),1e4===e.code?t({data:e.data,code:200}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})},this.addGroupChatUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e.groupId)return F(t,500,"groupId不能为空"),!1;var n=e.groupUsers;if(!n)return F(t,500,"groupUsers不能为空"),!1;if(!(n instanceof Array))return F(t,500,"groupUsers必须为Array类型"),!1;if(n.length<1)return F(t,500,"groupUsers不能为空"),!1;var a=w("POST",e,o);g({url:x+"/api/v1/imserver/msg_group/add_group_user.do",data:e,options:{method:"post",requestHeader:a},success:function(e){console.log("addGroupChatUser res:----"),console.log(e),console.log("addGroupChatUser res:----"),1e4===e.code?t({data:e.data,code:200}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})},this.updateGroupChatOwner=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e.groupId||!e.groupId.trim())return F(t,500,"groupId不能为空"),!1;if(!e.groupManagerNewId||!e.groupManagerNewId.trim())return F(t,500,"groupManagerNewId不能为空"),!1;var n=w("POST",e,o);g({url:x+"/api/v1/imserver/msg_group/update_group_owner.do",data:e,options:{method:"post",requestHeader:n},success:function(e){console.log("updateGroupChatOwner res:----"),console.log(e),console.log("updateGroupChatOwner res:----"),1e4===e.code?t({data:e.data,code:200}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})},this.removeGroupChat=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e.groupId||!e.groupId.trim())return F(t,500,"groupId不能为空"),!1;var n=w("POST",e,o);g({url:x+"/api/v1/imserver/msg_group/remove_group.do",data:e,options:{method:"post",requestHeader:n},success:function(e){console.log("removeGroupChat res:----"),console.log(e),console.log("removeGroupChat res:----"),1e4===e.code?t({data:e.data,code:200}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})},this.exitGroupChat=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e.groupId||!e.groupId.trim())return F(t,500,"groupId不能为空"),!1;if(!e.imUserId||!e.imUserId.trim())return F(t,500,"imUserId不能为空"),!1;var n=w("POST",e,o);g({url:x+"/api/v1/imserver/msg_group/remove_group_user.do",data:e,options:{method:"post",requestHeader:n},success:function(e){console.log("exitGroupChat res:----"),console.log(e),console.log("exitGroupChat res:----"),1e4===e.code?t({data:e.data,code:200}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})},this.removeGroupChatUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e.groupId||!e.groupId.trim())return F(t,500,"groupId不能为空"),!1;if(!e.imUserId||!e.imUserId.trim())return F(t,500,"imUserId不能为空"),!1;var n=w("POST",e,o);g({url:x+"/api/v1/imserver/msg_group/remove_group_user.do",data:e,options:{method:"post",requestHeader:n},success:function(e){console.log("removeGroupChatUser res:----"),console.log(e),console.log("removeGroupChatUser res:----"),1e4===e.code?t({data:e.data,code:200}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})}}else M({code:500,msg:"secret必传"});else M({code:500,msg:"sysCode必传"});else M({code:500,msg:"token必传"});else M({code:500,msg:"env必传"});function D(){try{_=new WebSocket(U),_.binaryType="arraybuffer",j()}catch(e){}}function j(){if(T)try{_.onmessage=function(e){var t=e.data?JSON.parse(e.data):{},o={},n=t.data&&t.data.localMsgId?t.data.localMsgId:"";200!==t.code&&201!==t.code||!N||N.localMsgId!=t.data.localMsgId?200!==t.code||N?(t.code>7e3&&t.code<=7999||202==t.code||203==t.code)&&M&&F(M,t.code,t.msg):(t.data.content=L(t.data.content,t.data.msgType),T({data:t.data,code:200,msg:"成功"})):(o=200==t.code?Object.assign({},N,{msgStatus:0,groupId:t.data.groupId,msgId:t.data.msgId}):Object.assign({},N,{msgStatus:2,groupId:t.data.groupId,msgId:t.data.msgId}),200==t.code&&v(n),T({data:o,code:200,msg:N.msg||"成功"}),N=null)}}catch(e){F(T,500,e)}b&&(_.onopen=function(e){b({code:200,msg:"连接成功",data:e})}),M&&(_.onerror=function(e){F(M,500,"连接错误！")}),C&&(_.onclose=function(e){F(C,500,"socket已关闭！")})}function P(){for(var e=new Array,t=new Array("0","1","2","3","4","5","6","7","8","9"),o=0;o<5;o++){var n=Math.floor(10*Math.random());e[o]=t[n]}var a=e.join("");return"web"+(new Date).getTime()+a}function H(e,t){e=Object.assign(e,{sysCode:a});var n=w("GET",e,o);g({url:x+"/api/v1/imserver/msg_user/get_base_user_msg.do",data:e,options:{method:"get",requestHeader:n},success:function(e){1e4===e.code?t({code:200,msg:"获取成功！",data:e.data}):F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})}function L(e,t){if("string"===typeof e)try{var o=JSON.parse(e);if("object"==Object(i["a"])(o)&&o){var n={};switch(t){case"text":n={text:o.text,ext:o.ext||""};break;case"image":n={ext:o.ext||"",fileName:o.fileName||"",fileId:o.fileId||"",fileUrl:o.fileUrl||"",fileSize:o.fileSize||null,fileType:o.fileType||"",thumbUrl:o.thumbUrl||"",pictureWidth:o.pictureWidth||null,pictureHeight:o.pictureHeight||null};break;case"file":n={ext:o.ext||"",fileId:o.fileId||"",fileName:o.fileName||"",fileUrl:o.fileUrl||"",fileSize:o.fileSize||null,fileType:o.fileType||"",thumbUrl:o.thumbUrl||""};break;case"video":n={ext:o.ext||"",fileName:o.fileName||"",fileId:o.fileId||"",fileUrl:o.fileUrl||"",fileSize:o.fileSize||null,fileType:o.fileType||"",thumbUrl:o.thumbUrl||"",duration:o.duration||null};break;case"voice":n={ext:o.ext||"",fileId:o.fileId||"",fileName:o.fileName||"",fileUrl:o.fileUrl||"",fileSize:o.fileSize||null,fileType:o.fileType||"",duration:o.duration||null};break;case"location":n={ext:o.ext||"",longitude:o.longitude||null,latitude:o.latitude||null,locationName:o.locationName||"",streetLocation:o.streetLocation||"",locationPicture:o.locationPicture||""};break;default:break}return n}}catch(a){}}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n={pageIndex:e.pageIndex,pageSize:e.pageSize,imUserId:s,sysCode:a},r=w("POST",n,o);g({url:x+"/api/v1/imserver/msg_group/get_msg_list.do",data:n,options:{method:"post",requestHeader:r},success:function(e){if(1e4===e.code){var o="[object Array]"==Object.prototype.toString.call(e.data.list)?e.data.list:[];o=o.map((function(e){var t=L(e.lastContent,e.msgType);return Object.assign({},e,{lastContent:t})})),console.log("---- onSessions ----"),console.log(e.data),console.log("---- onSessions ----"),t({data:o,code:200,total:e.data.total,msg:"成功"})}else F(t,500,e.msg)},fail:function(e){F(t,500,e.statusText)}})}function F(e,t,o){e({code:t||500,msg:o||""})}}f.instance=function(e){return f.sdkInstance||(f.sdkInstance=new f(e)),f.sdkInstance};var p=f;function m(e){if(!e)return!1;var t=localStorage.getItem("localMsgIdList");return t?(t=JSON.parse(t),-1===t.indexOf(e)&&(t.push(e),void localStorage.setItem("localMsgIdList",JSON.stringify(t)))):(localStorage.setItem("localMsgIdList",JSON.stringify([e])),!1)}function v(e){if(!e)return!1;var t=localStorage.getItem("localMsgIdList");if(!t)return!1;t=JSON.parse(t);var o=t.indexOf(e);if(-1===o)return!1;t.splice(o,1),localStorage.setItem("localMsgIdList",JSON.stringify(t))}function h(e){if(!e)return!1;var t=localStorage.getItem("localMsgIdList");return!!t&&(t=JSON.parse(t),-1!==t.indexOf(e))}function I(){localStorage.removeItem("localMsgIdList")}function S(e){return 0==e||9==e||10==e||13==e||e>=32&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111}function y(e){if(null==e||0==e.length)return e;for(var t=null,o=e.length,n=0;n<o;n++){var a=e.charCodeAt(n);S(a)&&(null==t&&(t=""),t+=String.fromCharCode(a))}return null==t?e:t.length==o?(t=null,e):t}function b(e){var t=new Array,o=0;for(var n in e)t[o]=n,o++;var a=t.sort(),r={};for(var n in a)"{}"==e[a[n]]?r[a[n]]="":r[a[n]]=e[a[n]];return r}function T(){return(1e7*Math.random()).toString(16).substr(0,4)+"-"+(new Date).getTime()+"-"+Math.random().toString().substr(2,5)}function M(e){return e?C(Object.keys(e).map((function(t){return void 0===e[t]?"":encodeURIComponent(t)+"="+encodeURIComponent(e[t])}))).join("&"):""}function C(e){for(var t=[],o=0;o<e.length;o++)e[o]&&t.push(e[o]);return t}function O(e,t,o,n){e=b(e);var a="";for(var r in e){var s=e[r];null!=s&&""!=s&&(a=a+r+"="+s+"&")}a=a+"sysCode="+t,a=a+"&secret="+o,a=a.replace(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g,"");var i=k(a).toUpperCase();return i}function w(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=(new Date).getTime(),r=T();e="GET"===t.toUpperCase()?M(o):JSON.stringify(o),e=y(e);var s={nonce:r,time:a,data:e},i=O(s,c,u),l={nonce:r,sign:i,time:a,"X-Auth-Token":n,imUserId:d,sysCode:c,"X-Req-Client":"PC","X-Device-Type":"PC","X-Device-Code":"im_pc","Content-Type":"POST"===t.toUpperCase()?"application/json":""};return l}function k(e){var t=function(e){var t,o,a,r,s,i,m,v,h,I=Array(),S=7,y=12,b=17,T=22,M=5,C=9,O=14,w=20,k=4,_=11,U=16,x=23,N=6,D=10,j=15,P=21;for(e=p(e),I=g(e),i=1732584193,m=4023233417,v=2562383102,h=271733878,t=0;t<I.length;t+=16)o=i,a=m,r=v,s=h,i=c(i,m,v,h,I[t+0],S,3614090360),h=c(h,i,m,v,I[t+1],y,3905402710),v=c(v,h,i,m,I[t+2],b,606105819),m=c(m,v,h,i,I[t+3],T,3250441966),i=c(i,m,v,h,I[t+4],S,4118548399),h=c(h,i,m,v,I[t+5],y,1200080426),v=c(v,h,i,m,I[t+6],b,2821735955),m=c(m,v,h,i,I[t+7],T,4249261313),i=c(i,m,v,h,I[t+8],S,1770035416),h=c(h,i,m,v,I[t+9],y,2336552879),v=c(v,h,i,m,I[t+10],b,4294925233),m=c(m,v,h,i,I[t+11],T,2304563134),i=c(i,m,v,h,I[t+12],S,1804603682),h=c(h,i,m,v,I[t+13],y,4254626195),v=c(v,h,i,m,I[t+14],b,2792965006),m=c(m,v,h,i,I[t+15],T,1236535329),i=u(i,m,v,h,I[t+1],M,4129170786),h=u(h,i,m,v,I[t+6],C,3225465664),v=u(v,h,i,m,I[t+11],O,643717713),m=u(m,v,h,i,I[t+0],w,3921069994),i=u(i,m,v,h,I[t+5],M,3593408605),h=u(h,i,m,v,I[t+10],C,38016083),v=u(v,h,i,m,I[t+15],O,3634488961),m=u(m,v,h,i,I[t+4],w,3889429448),i=u(i,m,v,h,I[t+9],M,568446438),h=u(h,i,m,v,I[t+14],C,3275163606),v=u(v,h,i,m,I[t+3],O,4107603335),m=u(m,v,h,i,I[t+8],w,1163531501),i=u(i,m,v,h,I[t+13],M,2850285829),h=u(h,i,m,v,I[t+2],C,4243563512),v=u(v,h,i,m,I[t+7],O,1735328473),m=u(m,v,h,i,I[t+12],w,2368359562),i=d(i,m,v,h,I[t+5],k,4294588738),h=d(h,i,m,v,I[t+8],_,2272392833),v=d(v,h,i,m,I[t+11],U,1839030562),m=d(m,v,h,i,I[t+14],x,4259657740),i=d(i,m,v,h,I[t+1],k,2763975236),h=d(h,i,m,v,I[t+4],_,1272893353),v=d(v,h,i,m,I[t+7],U,4139469664),m=d(m,v,h,i,I[t+10],x,3200236656),i=d(i,m,v,h,I[t+13],k,681279174),h=d(h,i,m,v,I[t+0],_,3936430074),v=d(v,h,i,m,I[t+3],U,3572445317),m=d(m,v,h,i,I[t+6],x,76029189),i=d(i,m,v,h,I[t+9],k,3654602809),h=d(h,i,m,v,I[t+12],_,3873151461),v=d(v,h,i,m,I[t+15],U,530742520),m=d(m,v,h,i,I[t+2],x,3299628645),i=l(i,m,v,h,I[t+0],N,4096336452),h=l(h,i,m,v,I[t+7],D,1126891415),v=l(v,h,i,m,I[t+14],j,2878612391),m=l(m,v,h,i,I[t+5],P,4237533241),i=l(i,m,v,h,I[t+12],N,1700485571),h=l(h,i,m,v,I[t+3],D,2399980690),v=l(v,h,i,m,I[t+10],j,4293915773),m=l(m,v,h,i,I[t+1],P,2240044497),i=l(i,m,v,h,I[t+8],N,1873313359),h=l(h,i,m,v,I[t+15],D,4264355552),v=l(v,h,i,m,I[t+6],j,2734768916),m=l(m,v,h,i,I[t+13],P,1309151649),i=l(i,m,v,h,I[t+4],N,4149444226),h=l(h,i,m,v,I[t+11],D,3174756917),v=l(v,h,i,m,I[t+2],j,718787259),m=l(m,v,h,i,I[t+9],P,3951481745),i=n(i,o),m=n(m,a),v=n(v,r),h=n(h,s);var H=f(i)+f(m)+f(v)+f(h);return H.toLowerCase()},o=function(e,t){return e<<t|e>>>32-t},n=function(e,t){var o,n,a,r,s;return a=2147483648&e,r=2147483648&t,o=1073741824&e,n=1073741824&t,s=(1073741823&e)+(1073741823&t),o&n?2147483648^s^a^r:o|n?1073741824&s?3221225472^s^a^r:1073741824^s^a^r:s^a^r},a=function(e,t,o){return e&t|~e&o},r=function(e,t,o){return e&o|t&~o},s=function(e,t,o){return e^t^o},i=function(e,t,o){return t^(e|~o)},c=function(e,t,r,s,i,c,u){return e=n(e,n(n(a(t,r,s),i),u)),n(o(e,c),t)},u=function(e,t,a,s,i,c,u){return e=n(e,n(n(r(t,a,s),i),u)),n(o(e,c),t)},d=function(e,t,a,r,i,c,u){return e=n(e,n(n(s(t,a,r),i),u)),n(o(e,c),t)},l=function(e,t,a,r,s,c,u){return e=n(e,n(n(i(t,a,r),s),u)),n(o(e,c),t)},g=function(e){var t,o=e.length,n=o+8,a=(n-n%64)/64,r=16*(a+1),s=Array(r-1),i=0,c=0;while(c<o)t=(c-c%4)/4,i=c%4*8,s[t]=s[t]|e.charCodeAt(c)<<i,c++;return t=(c-c%4)/4,i=c%4*8,s[t]=s[t]|128<<i,s[r-2]=o<<3,s[r-1]=o>>>29,s},f=function(e){var t,o,n="",a="";for(o=0;o<=3;o++)t=e>>>8*o&255,a="0"+t.toString(16),n+=a.substr(a.length-2,2);return n},p=function(e){e=e.toString().replace(/\x0d\x0a/g,"\n");for(var t="",o=0;o<e.length;o++){var n=e.charCodeAt(o);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t};return t(e)}var _=o("ed08");function U(e){console.log("我的信息：",e.data),200==e.code&&B.commit("updateMyInfo",e.data)}var x=o("5c62");function N(e){200==e.code&&B.commit("updateSessions",e.data)}function D(e,t){var o=e.state,n=e.commit,a=e.dispatch;console.log("设置当前会话,更新会话对象CurrSessionId，并初始化与".concat(t,"的聊天列表"));var r=o.nim;t?(n("updateCurrSessionId",{type:"init",groupId:t}),r&&(console.log("开始初始化聊天列表"),o.currSessionData=[],o.currSessionHistoryData=[],a("sendMsgReceipt",{groupId:t,lastMsgTime:(new Date).getTime()}))):(a("sendMsgReceipt",{groupId:o.sessionId,lastMsgTime:(new Date).getTime()}),a("resetCurrSession"))}function j(e){e.state;var t=e.commit;t("updateCurrSessionId",{type:"destroy"})}function P(e){var t=e.state,o=(e.commit,t.nim);o&&o.getSessionList({},(function(e){if(200==e.code)return B.commit("updateSessions",Object(x["a"])(e.data)),!0}))}o("fe59"),o("08ba");function H(e){if(console.log("---- onMessage -----"),console.log(e),console.log("---- onMessage -----"),200==e.code){B.state.isScrollBottom=!1;var t=e.data;B.state.currSessionData.forEach((function(e){e.localMsgId===t.localMsgId&&(e.msgStatus=t.msgStatus,B.state.isScrollBottom=!0)})),t.sender!==B.state.myInfo.imUserId&&(t.groupId===B.state.currSessionId?(B.state.currSessionData.push(t),B.state.isScrollBottom=!0):B.state.tempChatContentItem=t);var o=!0,n=B.state.sessionList;n.forEach((function(e){e.groupId===t.groupId&&(o=!1,e.lastContent=t.content,e.msgType=t.msgType,e.unReadNum=t.groupId===B.state.currSessionId?0:e.unReadNum+1,e.lastTime=t.createTime)})),o?(console.log("我是陌生人"),B.dispatch("updateSessionsData")):B.commit("updateSessions",n)}else if(10001===e.code){var a=e.data.localMsgId;B.state.currSessionData.forEach((function(e){e.localMsgId===a&&(e.msgStatus=2)})),B.state.isScrollBottom=!0,_["a"].error(e.msg)}else _["a"].error(e.msg)}function L(e){var t=e.state,o=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};B.state.isScrollBottom=!1;var r=t.nim;r&&r.sendMsg(n,(function(e){if(200==e.code){console.log("sendMessage:"),console.log(e);var n=e.data;t.currSessionData=[].concat(Object(x["a"])(t.currSessionData),[n]),o("SET_SCROLL_BOTTOM",!0)}else a["default"].prototype.$message.error(e.msg)}))}function G(e){}function F(e,t){var o=e.state;e.commit;return new Promise((function(e,n){var a=o.nim,r=t.pageNumber,s=void 0===r?1:r,i=t.pageSize,c=void 0===i?30:i,u=t.history,d=void 0!==u&&u,l=t.contentKey,g=void 0===l?"":l,f=t.localPoint,p=void 0===f?"":f;a&&a.pullHistoryMessage({pageNumber:s,pageSize:c,groupId:o.currSessionId,contentKey:g,localPoint:p},(function(t){200!==t.code&&n(t);var a=t.data||[];console.log("哈哈哈哈哈哈--------------------------------",a);var r=a.length<1;if(d)o.isSearchHistory?(o.currSessionHistoryData=o.historySearch===g?a.concat(o.currSessionHistoryData):a,o.historySearch=g):(o.currSessionHistoryData=a.concat(o.currSessionHistoryData),o.noMoreHistoryMsgs=r),e({status:!0});else{o.currSessionData=[].concat(Object(x["a"])(a),Object(x["a"])(o.currSessionData)),o.noMoreCurrSessionMsgs=r;var s=o.currSessionData[o.currSessionData.length-1],i=o.tempChatContentItem;!i||i.groupId!==s.groupId||i.createDatetime===s.createDatetime&&i.createTime===s.createTime||(o.currSessionData=[].concat(Object(x["a"])(o.currSessionData),[o.tempChatContentItem]),o.tempChatContentItem=null),e({status:!0})}}))}))}function q(){}function z(e,t){var o=e.state,n=(e.commit,o.currSessionId),a=o.nim;a&&n&&a.resetCurSession({groupId:t.groupId,lastMsgTime:t.lastMsgTime},(function(e){}))}function A(e,t){var o=e.state,n=(e.commit,o.nim);n&&n.downloadFile(t,(function(e){}))}function E(e,t){var o=e.state,n=(e.commit,e.dispatch,t.token),a=t.userId;p.sdkInstance=null,o.nim=p.instance({env:"T",token:n,userId:a,sysCode:"crm-bus-server",secret:"2fc989647a452d0c8682b2a34ab4affb",onMessage:H,onConnect:function(){},onSessions:N,myInfo:U,onError:function(e){console.log("------------onError------------"),console.log(e)},onClose:function(e){console.log("------------onError------------"),console.log(e)}})}function R(e,t){e.state,e.commit;var o=e.dispatch;o("initImSDK",t)}var X={connect:function(e,t){R(e,t)},initImSDK:E,setCurrSession:D,resetCurrSession:j,sendMsg:L,reSendMsg:G,getHistoryMsgs:F,resetNoMoreHistoryMsgs:q,sendMsgReceipt:z,updateSessionsData:P,downloadFile:A},J={updateMyInfo:function(e,t){e.myInfo=_["a"].mergeObject(e.myInfo,t)},updateSessions:function(e,t){t.forEach((function(t){t.groupId===e.currSessionId?(t.active=!0,t.unReadNum=0):t.active=!1})),t.sort((function(e,t){return t.lastTime-e.lastTime})),e.sessionList=t},mergeSessions:function(e,t){var o=e.sessionList.concat(t);B.commit("updateSessions",o)},updateCurrSessionId:function(e,t){var o=t.type||"";"destroy"===o?e.currSessionId=null:"init"===o&&t.groupId&&t.groupId!==e.currSessionId&&(e.currSessionId=t.groupId);var n=e.sessionList;B.commit("updateSessions",n)},updateMessage:function(e,t){},SET_SCROLL_BOTTOM:function(e,t){console.log("11111111111",t),e.isScrollBottom=t},SET_CURGROUP_INFO:function(e,t){e.currGroupChatInfo=t}};a["default"].use(r["a"]);var B=t["a"]=new r["a"].Store({state:s,mutations:J,actions:X})},"933b":function(e,t,o){"use strict";o.r(t),o.d(t,"messageTime",(function(){return n})),o.d(t,"msgType",(function(){return a})),o.d(t,"calculatedSize",(function(){return r})),o.d(t,"transformTime",(function(){return i}));o("b4fb"),o("9302"),o("2eeb"),o("20a5"),o("e18c"),o("1c2e");var n=function(e){if(!e)return"";e=new Date(e).getTime();var t=(new Date).getTime(),o=function(e){var t=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];e=new Date(e);var o=e.getFullYear(),n=e.getMonth()+1;n=n>9?n:"0"+n;var a=e.getDate();a=a>9?a:"0"+a;var r=e.getHours();r=r>9?r:"0"+r;var s=e.getMinutes();s=s>9?s:"0"+s;var i=e.getDay();i=t[i];var c=new Date(o,n-1,a,0,0,0).getTime();return{withYear:"".concat(o,"-").concat(n,"-").concat(a," ").concat(r,":").concat(s),withMonth:"".concat(n,"-").concat(a," ").concat(r,":").concat(s),withDay:"".concat(i," ").concat(r,":").concat(s),withLastDay:"昨天 ".concat(r,":").concat(s),withHour:"".concat(r,":").concat(s),thatDay:c}}(e),n=o.thatDay,a=(t-n)/1e3;return a<86400?o.withHour:a<172800?o.withLastDay:a<604800?o.withDay:a<2592e3?o.withMonth:o.withYear},a=function(e){if(e){var t={voice:"[语音]",text:"[文本]",file:"[文件]",link:"[链接]",im_tmplate:"[IM内置模板]",image:"[图片]",video:"视频",location:"[位置]",special:"[表情]",bus_template:"[业务模板]",sys_msg:"[系统消息]",platform_msg:"[平台消息]",commond:"[命令消息]"};return t[e]||"unkown"}},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e?(e/1024).toFixed(1)>1024?(e/1024/1024).toFixed(1)+"MB":(e/1024).toFixed(1)+"KB":"";return t},s=function(e){return e=e.toString(),e[1]?e:"0"+e},i=function(e){if(e.toString().length<=13){var t=new Date(1*e),o=t.getFullYear(),n=t.getMonth()+1,a=t.getDate(),r=t.getHours(),i=t.getMinutes(),c=t.getSeconds();return[o,n,a].map(s).join("-")+" "+[r,i,c].map(s).join(":")}return e}},b37a:function(e,t,o){},ed08:function(e,t,o){"use strict";o("b4fb"),o("fe59"),o("ecb4"),o("9302"),o("6ae3"),o("2eeb"),o("77ad"),o("053b"),o("fe8a"),o("e35a"),o("5e9f"),o("6db4"),o("08ba");var n=o("430a"),a=o("0261"),r=o("4360");Function.prototype.bind||(Function.prototype.bind=function(){var e=this,t=Array.prototype.slice.call(arguments),o=t.shift();return function(){return e.apply(o,t.concat(Array.prototype.slice.call(arguments)))}});var s=Object.create(null);s.encode=function(e,t){return t=""+t,e&&t?t.replace(e.r,(function(t){var o=e[e.i?t:t.toLowerCase()];return null!=o?o:t})):t||""},s.escape=function(){var e=/<br\/?>$/,t={r:/\<|\>|\&|\r|\n|\s|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","\n":"<br/>","\r":""};return function(o){return o=s.encode(t,o),o.replace(e,"<br/>")}}(),s.object2query=function(e){var t=Object.keys(e),o=t.map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))}));return o.join("&")},s.mergeObject=function(e,t){return"object"===Object(n["a"])(e)&&null!==e||(e=Object.create(null)),e=Object.assign(Object.create(null),e,t),e},s.mergeVueObject=function(e,t){var o=Object.keys(t);return o.forEach((function(o){"undefined"!==typeof t[o]&&a["default"].set(e,o,t[o])})),e},s.checkUploadImage=function(e){var t=-1!==e.type.indexOf("image"),o=e.size/1024/1024>5;return t?!o||(s.error("上传图片不能超过 5MB!"),!1):(s.error("请选择正确的图片类型!"),!1)},s.error=function(e){a["default"].prototype.$message?a["default"].prototype.$message.error(e):a["default"].prototype.$toast(e)},s.checkUploadFile=function(e){var t=["pdf","txt","rtf","doc","docx","xls","xlsx","mp4","zip","rar","pptx","ppt"],o=e.name,n=o.substring(o.lastIndexOf(".")+1),a=-1!==t.indexOf(n.toLowerCase()),r=e.size/1024/1024,i=["mp4"],c=-1!==i.indexOf(n.toLowerCase())?"43":"49";return a?r>10&&"43"==c?(s.error("视频大小不能超过10MB!"),!1):(r>20&&"49"==c&&s.error("附件大小不能超过20MB！"),!0):(s.error("请选择正确的文件类型!"),!1)},s.mapMsgType=function(e){var t={text:"文本消息",image:"图片消息",file:"文件消息",audio:"语音消息",video:"视频消息",geo:"地理位置消息",tip:"提醒消息",custom:"自定义消息",notification:"系统通知",robot:"机器人消息"},o=e.type;return t[o]||"未知消息类型"},s.parseSession=function(e){return/^p2p-/.test(e)?{scene:"p2p",to:e.replace(/^p2p-/,"")}:/^team-/.test(e)?{scene:"team",to:e.replace(/^team-/,"")}:void 0},s.parseCustomMsg=function(e){if("custom"===e.type){try{var t=JSON.parse(e.content);switch(t.type){case 1:return"[猜拳消息]";case 2:return"[阅后即焚]";case 3:return"[贴图表情]";case 4:return"[白板消息]"}}catch(o){}return"[自定义消息]"}return""},s.getFriendAlias=function(e){return e.alias=e.alias?e.alias.trim():"",e.alias||e.nick||e.account},s.generateChatroomSysMsg=function(e){var t;switch(e.attach.type){case"memberEnter":t="欢迎".concat(e.attach.fromNick,"进入直播间");break;case"memberExit":t="".concat(e.attach.fromNick,"离开了直播间");break;case"blackMember":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员拉入黑名单");break;case"unblackMember":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员解除拉黑");break;case"gagMember":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员禁言");break;case"ungagMember":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员解除禁言");break;case"addManager":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被任命管理员身份");break;case"removeManager":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被解除管理员身份");break;case"addTempMute":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员临时禁言");break;case"removeTempMute":t="".concat(e.attach.toNick[0]||e.attach.to[0],"被管理员解除临时禁言");break;case"addCommon":t="管理员添加普通成员";break;case"removeCommon":t="管理员删除普通成员";break;case"kickMember":t="".concat(e.attach.toNick[0],"被管理员踢出房间");break;default:t="通知消息";break}return t},s.generateTeamSysmMsg=function(e){var t,o=this.getNickNames(e.attach.users);switch(e.attach.type){case"updateTeam":t=this.getTeamUpdateInfo(e);break;case"addTeamMembers":var n=o.pop();t="".concat(n,"邀请").concat(o.join(),"加入群");break;case"removeTeamMembers":var a=o.pop();t="".concat(o.join(),"被").concat(a,"移出群");break;case"acceptTeamInvite":var r=o.pop();t="".concat(o.join(),"接受了").concat(r,"入群邀请");break;case"passTeamApply":var s=o.shift();t=1===o.length&&s===o[0]?"".concat(s,"加入群"):"".concat(s,"通过了").concat(o,"入群邀请");break;case"addTeamManagers":var i=o.pop();t="".concat(i,"新增了").concat(o,"为管理员");break;case"removeTeamManagers":var c=o.pop();t="".concat(c,"移除了").concat(o,"的管理员权限");break;case"leaveTeam":t="".concat(o.join(),"退出了群");break;case"dismissTeam":t="".concat(o.join(),"解散了群");break;case"transferTeam":var u=this.getNickNames(e.attach.users),d=u.shift();t="".concat(d,"转让群主给").concat(u);break;case"updateTeamMute":var l=this.getNickNames(e.attach.users);l.shift();t="".concat(l,"被管理员").concat(e.attach.mute?"禁言":"解除禁言");break;default:break}return t},s.getNickNames=function(e){return e.map((function(e){return e.account===r["a"].state.userUID?"你":e.nick}))},s.getTeamUpdateInfo=function(e){var t,o=e.attach.team,n=this.getNickNames(e.attach.users).pop();return t=o["name"]?"".concat(n,"修改群名为").concat(o["name"]):o["intro"]?"".concat(n,"修改群介绍为").concat(o["intro"]):o["joinMode"]?"群身份验证模式更新为".concat("noVerify"===o.joinMode?"不需要验证":"needVerify"===o.joinMode?"需要验证":"禁止任何人加入"):o["inviteMode"]?"邀请他人权限为".concat("all"===o["inviteMode"]?"所有人":"管理员"):o["updateTeamMode"]?"群资料修改权限为".concat("all"===o["updateTeamMode"]?"所有人":"管理员"):o["beInviteMode"]?"被邀请人身份".concat("noVerify"===o["beInviteMode"]?"不需要验证":"需要验证"):"更新群信息",t},s.teamConfigMap={joinMode:{noVerify:"不需要验证",needVerify:"需要验证",rejectAll:"禁止任何人加入"},beInviteMode:{needVerify:"需要验证",noVerify:"不需要验证"},inviteMode:{manager:"管理员邀请",all:"所有人邀请"},updateTeamMode:{manager:"管理员修改",all:"所有人修改"},memberType:{manager:"管理员",normal:"普通成员"}},t["a"]=s}}]);